{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: {\n      items: []\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false\n  },\n  getters: {},\n  mutations: {\n    initializeStore(state) {\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart'));\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      }\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n      } else {\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n    },\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(i => i.product.id === item.product.id);\n      if (exists.length) {\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity);\n      } else {\n        state.cart.items.push(item);\n      }\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n    setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n    removeToken(state, token) {\n      state.token = '';\n      state.isAuthenticated = false;\n    },\n    clearCart(state) {\n      state.cart = {\n        items: []\n      };\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    }\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","cart","items","isAuthenticated","token","isLoading","getters","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","length","quantity","parseInt","push","setIsLoading","status","setToken","removeToken","clearCart","actions","modules"],"sources":["C:/Users/Agelos/PycharmProjects/sports_eshop_project/sports_eshop_vue/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nexport default createStore({\r\n  state: {\r\n    cart:{\r\n      items: [],\r\n\r\n    },\r\n    isAuthenticated: false,\r\n    token: '',\r\n    isLoading: false,\r\n  },\r\n\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    initializeStore(state){\r\n      if (localStorage.getItem('cart')){\r\n        state.cart = JSON.parse(localStorage.getItem('cart'))\r\n      } else {\r\n        localStorage.setItem('cart', JSON.stringify(state.cart))\r\n      }\r\n\r\n      if(localStorage.getItem('token')) {\r\n        state.token = localStorage.getItem('token')\r\n        state.isAuthenticated = true\r\n      }\r\n      else {\r\n        state.token = ''\r\n        state.isAuthenticated = false\r\n      }\r\n    },\r\n\r\n    addToCart(state, item){\r\n      const exists = state.cart.items.filter(i => i.product.id  === item.product.id)\r\n\r\n      if (exists.length){\r\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity)\r\n      } else {\r\n        state.cart.items.push(item)\r\n      }\r\n\r\n      localStorage.setItem('cart', JSON.stringify(state.cart))\r\n    },\r\n\r\n    setIsLoading(state, status){\r\n      state.isLoading = status\r\n    },\r\n\r\n    setToken(state, token){\r\n      state.token = token\r\n      state.isAuthenticated = true\r\n    },\r\n\r\n    removeToken(state, token){\r\n      state.token = ''\r\n      state.isAuthenticated = false\r\n    },\r\n\r\n    clearCart(state){\r\n      state.cart = {items: []}\r\n      localStorage.setItem('cart', JSON.stringify(state.cart))\r\n    },\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,IAAI,EAAC;MACHC,KAAK,EAAE;IAET,CAAC;IACDC,eAAe,EAAE,KAAK;IACtBC,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE;EACb,CAAC;EAEDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,eAAeA,CAACR,KAAK,EAAC;MACpB,IAAIS,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAC;QAC/BV,KAAK,CAACC,IAAI,GAAGU,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACvD,CAAC,MAAM;QACLD,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,SAAS,CAACd,KAAK,CAACC,IAAI,CAAC,CAAC;MAC1D;MAEA,IAAGQ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;QAChCV,KAAK,CAACI,KAAK,GAAGK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3CV,KAAK,CAACG,eAAe,GAAG,IAAI;MAC9B,CAAC,MACI;QACHH,KAAK,CAACI,KAAK,GAAG,EAAE;QAChBJ,KAAK,CAACG,eAAe,GAAG,KAAK;MAC/B;IACF,CAAC;IAEDY,SAASA,CAACf,KAAK,EAAEgB,IAAI,EAAC;MACpB,MAAMC,MAAM,GAAGjB,KAAK,CAACC,IAAI,CAACC,KAAK,CAACgB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,CAACC,EAAE,KAAML,IAAI,CAACI,OAAO,CAACC,EAAE,CAAC;MAE9E,IAAIJ,MAAM,CAACK,MAAM,EAAC;QAChBL,MAAM,CAAC,CAAC,CAAC,CAACM,QAAQ,GAAGC,QAAQ,CAACP,MAAM,CAAC,CAAC,CAAC,CAACM,QAAQ,CAAC,GAAGC,QAAQ,CAACR,IAAI,CAACO,QAAQ,CAAC;MAC7E,CAAC,MAAM;QACLvB,KAAK,CAACC,IAAI,CAACC,KAAK,CAACuB,IAAI,CAACT,IAAI,CAAC;MAC7B;MAEAP,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,SAAS,CAACd,KAAK,CAACC,IAAI,CAAC,CAAC;IAC1D,CAAC;IAEDyB,YAAYA,CAAC1B,KAAK,EAAE2B,MAAM,EAAC;MACzB3B,KAAK,CAACK,SAAS,GAAGsB,MAAM;IAC1B,CAAC;IAEDC,QAAQA,CAAC5B,KAAK,EAAEI,KAAK,EAAC;MACpBJ,KAAK,CAACI,KAAK,GAAGA,KAAK;MACnBJ,KAAK,CAACG,eAAe,GAAG,IAAI;IAC9B,CAAC;IAED0B,WAAWA,CAAC7B,KAAK,EAAEI,KAAK,EAAC;MACvBJ,KAAK,CAACI,KAAK,GAAG,EAAE;MAChBJ,KAAK,CAACG,eAAe,GAAG,KAAK;IAC/B,CAAC;IAED2B,SAASA,CAAC9B,KAAK,EAAC;MACdA,KAAK,CAACC,IAAI,GAAG;QAACC,KAAK,EAAE;MAAE,CAAC;MACxBO,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,SAAS,CAACd,KAAK,CAACC,IAAI,CAAC,CAAC;IAC1D;EACF,CAAC;EACD8B,OAAO,EAAE,CACT,CAAC;EACDC,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}